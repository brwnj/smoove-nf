params {
    bed = "s3://base2-dev/assets/ceph18.b37.lumpy.exclude.2014-01-15.bed.gz"
    fasta = "s3://base2-dev/assets/g1k_v37_decoy/g1k_v37_decoy.fa"
    bams = "s3://base2-dev/projects/testing/*.chrom20.bam"
    outdir = "s3://base2-dev/projects/testing/nextflow-test/results"
}

profiles {
    kp {
        process {
            executor = 'slurm'
            queue = 'quinlan-shared-kp'
            time = '12h'
            memory = 8.GB
            scratch = '/scratch/local'
            clusterOptions = '--account=quinlan-kp --ntasks=1'
            container = 'brentp/smoove:v0.2.2'
        }
        singularity {
            enabled = true
            cacheDir = '/scratch/ucgd/lustre/work/u6022494/imgs'
            runOptions = '--bind /scratch --bind /uufs'
        }
    }
    local {
        process {
            executor = 'local'
            scratch = '/scratch/local/u6022494'
            container = 'brentp/smoove:latest'
        }
        singularity {
            enabled = true
            cacheDir = '/scratch/ucgd/lustre/work/u6022494/imgs'
            runOptions = '--bind /scratch --bind /uufs'
        }
    }
    batch {
        process {
            executor = 'awsbatch'
            queue = 'rsmall'
            container = 'brentp/smoove:v0.2.2'
        }
    }
}

aws {
    region = 'us-east-1'
}

process.shell = ['/bin/bash', '-euo', 'pipefail']

timeline {
    enabled = true
    file = "${params.outdir}/logs/smoove_timeline.html"
}
report {
    enabled = true
    file = "${params.outdir}/logs/smoove_report.html"
}
trace {
    enabled = true
    file = "${params.outdir}/logs/smoove_trace.txt"
}
dag {
    enabled = true
    file = "${params.outdir}/logs/smoove_dag.svg"
}

manifest.mainScript = 'smoove.nf'
